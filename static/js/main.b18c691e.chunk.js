(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{24:function(t,e,n){t.exports=n.p+"static/media/Loader.f73f97ff.gif"},44:function(t,e,n){},51:function(t,e,n){t.exports=n.p+"static/media/yes.7a11ebb9.svg"},52:function(t,e,n){t.exports=n.p+"static/media/no.8b3e2021.svg"},56:function(t,e,n){t.exports=n(95)},61:function(t,e,n){},95:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(45),i=n.n(o),c=(n(61),n(46)),l=n(47),s=n(55),u=n(54),p=n(15),d=n(6),f=n(4),m=n(2),g=n(3);function h(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttext-transform: uppercase;\n\t\ttext-decoration: none;\n\t\tcursor: pointer;\n\t\theight: 100%;\n\t"]);return h=function(){return t},t}function b(){var t=Object(m.a)(["\n\t\tmargin: 0px;\n\t"]);return b=function(){return t},t}function x(){var t=Object(m.a)(["\n\t\tfont-size: 20px;\n\t\tfont-weight: bold;\n\t\tcolor: #0b0c10;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttext-decoration: none;\n\t\theight: 100%;\n\t"]);return x=function(){return t},t}function E(){var t=Object(m.a)(["\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-around;\n\t\talign-items: center;\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t"]);return E=function(){return t},t}function v(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\theight: 40px;\n\t\tbackground-color: #45a29e;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\tz-index: 100;\n\t\tpadding: 0px;\n\n\t\t&.scrolled-down {\n\t\t\ttransform: translateY(-100%);\n\t\t\ttransition: all 0.3s ease-in-out;\n\t\t}\n\n\t\t&.scrolled-up {\n\t\t\ttransform: translateY(0);\n\t\t\ttransition: all 0.3s ease-in-out;\n\t\t}\n\n\t\t@media (min-width: 850px) {\n\t\t\tpadding: 0px 20px;\n\t\t}\n\t"]);return v=function(){return t},t}var w={Nav:g.a.nav(v()),List:g.a.ul(E()),Logo:Object(g.a)(p.b)(x()),Element:g.a.li(b()),Link:Object(g.a)(p.b)(h())},j=function(t){var e=Object(a.useState)("scrolled-up"),n=Object(f.a)(e,2),o=n[0],i=n[1],c=Object(a.useState)(0),l=Object(f.a)(c,2),s=l[0],u=l[1];return window.onscroll=function(){var t=window.pageYOffset;i(t<s?"scrolled-up":"scrolled-down"),u(t)},t.logged?r.a.createElement(w.Nav,{className:o},r.a.createElement(w.List,null,r.a.createElement(w.Logo,{to:"/Social-app/"},"Social-app"),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/"},"Feed")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/allFollows"},"All follows")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/",onClick:function(){localStorage.user=null,t.updateUser(!1)}},"Log out")))):r.a.createElement(w.Nav,{className:o},r.a.createElement(w.List,null,r.a.createElement(w.Element,null,r.a.createElement(w.Logo,{to:"/Social-app/",onClick:function(){t.hide(),t.updateUser()}},"Social-app")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/",onClick:function(){t.hide(),t.updateUser()}},"Feed")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/login"},"Log in")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app/signup"},"Sign up"))))},O=n(18),y=n(5),k=n.n(y),S=n(9),I=n(14);function C(){var t=Object(m.a)(["\n    position: absolute;\n    font-size: 20px;\n    cursor: pointer;\n    top: 35px;\n    right: 10px;\n    color: #c5c6c7;\n    z-index: 100;\n  "]);return C=function(){return t},t}function L(){var t=Object(m.a)(["\n\t\tfont-size: 30px;\n\t\tposition: absolute;\n\t\tdisplay: ",";\n\t\tcolor: #66fcf1;\n\t\tright: 10px;\n\t\ttop: 10px;\n\t\tcursor: pointer;\n  "]);return L=function(){return t},t}function U(){var t=Object(m.a)(["\n\t\tcolor: #c5c6c7;\n\t"]);return U=function(){return t},t}function _(){var t=Object(m.a)(["\n\t\ttext-decoration: none;\n\t\tcolor: #66fcf1;\n\t"]);return _=function(){return t},t}function P(){var t=Object(m.a)(["\n\t\theight: 100%;\n\t\tmargin: 0px auto;\n\t\tfont-size: 15px;\n\t\tbackground-color: transparent;\n\t\twidth: 125px;\n\t\theight: 40px;\n\t\tcursor: pointer;\n\t\ttext-transform: uppercase;\n\t\tfont-weight: 400;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: transparent;\n\t\tborder: 1px solid #66fcf1;\n\t\toutline: 0;\n\n\t\t&:hover {\n\t\t\t-webkit-transition: all 0.15s ease-in-out;\n\t\t\ttransition: all 0.15s ease-in-out;\n\t\t\tbox-shadow: 0 0 10px 0 #66fcf1 inset, 0 0 10px 0px #66fcf1;\n\t\t\tborder: 1px solid #66fcf1;\n\t\t}\n\t"]);return P=function(){return t},t}function z(){var t=Object(m.a)(["\n\t\ttext-align: center;\n\t\tmargin-top: 30px;\n\t"]);return z=function(){return t},t}function A(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcolor: green;\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t\tmargin: 15px 0px 15px 0px;\n\t"]);return A=function(){return t},t}function T(){var t=Object(m.a)(["\n\t\tfont-size: 12px;\n\t\tcolor: red;\n\t\tmargin-bottom: 10px;\n\t"]);return T=function(){return t},t}function F(){var t=Object(m.a)(["\n    position: absolute;\n\t\ttop: 27.5px;\n\t\tleft: 5px;\n    color: #c5c6c7;\n    padding: 0px 5px;\n\t\tline-height: 35px;\n\t\tpointer-events: none;\n\t"]);return F=function(){return t},t}function N(){var t=Object(m.a)(["\n    position: relative;\n    border: 0px;\n    padding: 0;\n    \n\t"]);return N=function(){return t},t}function q(){var t=Object(m.a)(["\n\t\tmargin: 0px auto 20px auto;\n\t\twidth: 80%;\n\t\ttext-align: left;\n\t"]);return q=function(){return t},t}function B(){var t=Object(m.a)(["\n    width: 80%;\n\t\theight: auto;\n\t\tposition: fixed;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tbackground-color: ",";\n\t\tdisplay: ",";\n\t\ttext-align: center;\n\t\tpadding-bottom: 20px;\n\n\t\t@media (min-width: 500px) {\n\t\t\twidth: 60%;\n\t\t}\n\n\t\t@media (min-width: 850px) {\n\t\t\twidth: 30%;\n\t\t}\n\t"]);return B=function(){return t},t}function H(){var t=Object(m.a)(["\n\t\tfont-size: 40px;\n\t\tmargin: 20px 0px 10px 0px;\n\t\tcolor: #66fcf1;\n\t"]);return H=function(){return t},t}var R={Heading:g.a.h2(H()),Holder:g.a.div(B(),(function(t){return t.color}),(function(t){return t.display})),Form_wrapper:g.a.div(q()),Input_wrapper:g.a.fieldset(N()),Label:g.a.div(F()),Errors:g.a.span(T()),Signed:g.a.span(A()),Button_holder:g.a.div(z()),Button:g.a.button(P()),Link:Object(g.a)(p.b)(_()),Span:g.a.span(U()),Icon:Object(g.a)(I.a)(L(),(function(t){return t.display})),EyeIcon:Object(g.a)(I.a)(C())},D=(n(44),function(t){var e=Object(O.a)(),n=e.register,o=e.handleSubmit,i=e.errors,c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p="transparent";t.popup&&(p="#0B0C10");var d=function(){u(!s)};return r.a.createElement(R.Holder,{color:p},r.a.createElement(R.Icon,{icon:S.d,onClick:t.hide,display:t.iconDisplay}),r.a.createElement(R.Heading,null,"Log in"),r.a.createElement(R.Form_wrapper,null,r.a.createElement("form",{className:"login-form",onSubmit:o((function(e){var n={username:e.username.trim(),password:e.password,ttl:3600};k.a.post("https://akademia108.pl/api/social-app/user/login",JSON.stringify(n),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),t.updateUser(!0)})).catch((function(t){console.error(t)}))}))},r.a.createElement(R.Input_wrapper,null,r.a.createElement("input",{name:"username",type:"text",placeholder:" ",ref:n({required:!0})}),r.a.createElement(R.Label,{htmlFor:"username"},"Username"),i.username&&"required"===i.username.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required")),r.a.createElement(R.Input_wrapper,null,s?r.a.createElement(R.EyeIcon,{onClick:function(){d()},icon:S.b}):r.a.createElement(R.EyeIcon,{onClick:function(){d()},icon:S.a}),r.a.createElement("input",{name:"password",type:s?"text":"password",placeholder:" ",ref:n({required:!0})}),r.a.createElement(R.Label,{htmlFor:"username"},"Password"),i.password&&"required"===i.password.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required")),r.a.createElement(R.Button_holder,null,r.a.createElement(R.Button,{type:"submit"},"Log in")))),r.a.createElement(R.Span,null,"Don't have an account? "),r.a.createElement(R.Link,{to:"/signup"},"Sign up"))}),W=function(t){return r.a.createElement(D,{popup:!1,iconDisplay:"none",updateUser:t.updateUser})},Y=function(){var t=Object(O.a)(),e=t.register,n=t.handleSubmit,o=t.errors,i=t.getValues,c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p=Object(a.useState)(!1),d=Object(f.a)(p,2),m=d[0],g=d[1],h=Object(a.useState)(!1),b=Object(f.a)(h,2),x=b[0],E=b[1],v=Object(a.useState)(!1),w=Object(f.a)(v,2),j=w[0],y=w[1],I=Object(a.useState)(!1),C=Object(f.a)(I,2),L=C[0],U=C[1],_={"Content-Type":"application/json",Accept:"application/json"},P=function(){y(!j)},z=function(){U(!L)};return r.a.createElement(R.Holder,null,r.a.createElement(R.Heading,null,"Sign Up"),r.a.createElement(R.Form_wrapper,null,r.a.createElement("form",{onSubmit:n((function(t){u(!1),g(!1),E(!1);var e={username:t.username,email:t.email,password:t.password};k.a.post("http://akademia108.pl/api/social-app/user/signup",JSON.stringify(e),{headers:_}).then((function(t){!1===t.data.signedup?(t.data.message.username&&u(!0),t.data.message.email&&g(!0)):E(!0)})).catch((function(t){console.error(t)}))}))},r.a.createElement(R.Input_wrapper,null,r.a.createElement("input",{name:"username",type:"text",placeholder:" ",ref:e({required:!0,minLength:4,pattern:{value:/^[^\s]*$/}})}),r.a.createElement(R.Label,{htmlFor:"username"},"Username"),o.username&&"required"===o.username.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required"),o.username&&"minLength"===o.username.type&&r.a.createElement(R.Errors,null," \u26a0 User name is too short"),o.username&&"pattern"===o.username.type&&r.a.createElement(R.Errors,null," \u26a0 Do not use white spaces"),s?r.a.createElement(R.Errors,null," \u26a0 User name has already been taken"):null),r.a.createElement(R.Input_wrapper,null,r.a.createElement("input",{name:"email",type:"text",placeholder:" ",ref:e({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}})}),r.a.createElement(R.Label,{htmlFor:"email"},"E-mail adress"),o.email&&"required"===o.email.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required"),o.email&&"pattern"===o.email.type&&r.a.createElement(R.Errors,null," \u26a0 Email adress is invalid"),m?r.a.createElement(R.Errors,null," \u26a0 Email adress has already been taken"):null),r.a.createElement(R.Input_wrapper,null,j?r.a.createElement(R.EyeIcon,{onClick:function(){P()},icon:S.b}):r.a.createElement(R.EyeIcon,{onClick:function(){P()},icon:S.a}),r.a.createElement("input",{name:"password",type:j?"text":"password",placeholder:" ",ref:e({required:!0,minLength:6,pattern:{value:/^[0-zA-Z$&+,:;=?@#|'<>.^*()%!]*$/},validate:function(t){return!(!(t.includes("$")||t.includes("!")||t.includes("#")||t.includes("@")||t.includes("%"))||!/\d/.test(t))}})}),r.a.createElement(R.Label,{htmlFor:"password"},"Password"),o.password&&"required"===o.password.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required"),o.password&&"minLength"===o.password.type&&r.a.createElement(R.Errors,null," \u26a0 Password is too short"),o.password&&"validate"===o.password.type&&r.a.createElement(R.Errors,null," \u26a0 Password must contain one of charts: ! # @ $ %"),o.password&&"pattern"===o.password.type&&r.a.createElement(R.Errors,null," \u26a0 Do not use white spaces")),r.a.createElement(R.Input_wrapper,null,L?r.a.createElement(R.EyeIcon,{onClick:function(){z()},icon:S.b}):r.a.createElement(R.EyeIcon,{onClick:function(){z()},icon:S.a}),r.a.createElement("input",{name:"confirmPassword",type:L?"text":"password",placeholder:" ",ref:e({required:!0,validate:function(t){return t===i("password")}})}),r.a.createElement(R.Label,{htmlFor:"confirmPassword"},"Confirm password"),o.confirmPassword&&"validate"===o.confirmPassword.type&&r.a.createElement(R.Errors,null," \u26a0 Password is not the same"),o.confirmPassword&&"required"===o.confirmPassword.type&&r.a.createElement(R.Errors,null," \u26a0 This field is required")),x?r.a.createElement(R.Signed,null,"You signed up successfully!"):null,r.a.createElement(R.Button_holder,null,x?r.a.createElement(R.Button,{type:"submit",style:{marginTop:"0px"}},"Sign up"):r.a.createElement(R.Button,{type:"submit"},"Sign up")))))},J=n(101),K=n(25),$=n.n(K);function Z(){var t=Object(m.a)(["\n\t\twidth: 100%;\n    \n\t\tbox-sizing: border-box;\n\t\theight: 100px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tfont-size: 15px;\n\t\tmargin: 10px 0px 10px 0px;\n\t\tbackground-color: #1f2833;\n\t\tborder: 1px solid #1f2833;\n\t\toutline: 0;\n\t\tpadding: 20px;\n\t\tcolor: #c5c6c7;\n\t"]);return Z=function(){return t},t}function M(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t"]);return M=function(){return t},t}function V(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tbackground-color: transparent;\n\t\twidth: 125px;\n\t\theight: 40px;\n\t\tcursor: pointer;\n\t\ttext-transform: uppercase;\n\t\tfont-weight: 400;\n\t\tmargin: 0px 0px 10px auto;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: transparent;\n\t\tborder: 1px solid #66fcf1;\n\t\toutline: 0;\n\n\t\t&:hover {\n\t\t\t-webkit-transition: all 0.15s ease-in-out;\n\t\t\ttransition: all 0.15s ease-in-out;\n\t\t\tbox-shadow: 0 0 10px 0 #66fcf1 inset, 0 0 10px 0px #66fcf1;\n\t\t\tborder: 1px solid #66fcf1;\n\t\t}\n\t"]);return V=function(){return t},t}var G={AddButton:g.a.button(V()),Form:g.a.form(M()),Textarea:g.a.textarea(Z())},Q=function(t,e,n,a,r){k.a.post("https://akademia108.pl/api/social-app/post/newer-then",{date:"".concat(e)},r).then((function(e){if(e.data.length>0)if("all"===t){var r=e.data;a(r)}else{var o=e.data;a(o.concat(n))}})).catch((function(t){console.error(t)}))},X=function(t){var e=Object(O.a)(),n=e.register,a=e.handleSubmit,o=e.errors;return r.a.createElement(G.Form,{onSubmit:a((function(e,n){k.a.post("https://akademia108.pl/api/social-app/post/add",{content:"".concat(e.post)},t.axiosConfig).then((function(e){Q("one",t.posts[0].created_at,t.posts,t.setPosts,t.axiosConfig),n.target.reset()})).catch((function(t){console.error(t)}))}))},r.a.createElement(G.Textarea,{name:"post",placeholder:"Add post",ref:n({required:!0})}),o.post&&"required"===o.post.type&&r.a.createElement(R.Errors,{style:{color:"#b71c1c"}}," \u26a0 Post can not be empty"),r.a.createElement(G.AddButton,null,"Add Post"))};function tt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tflex-basis: 100%;\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin-top: 15px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\t"]);return tt=function(){return t},t}function et(){var t=Object(m.a)(["\n\t\tline-height: 45px;\n\t\tmargin: 0;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t\ttext-align: center;\n\t\tflex-basis: 100%;\n\t\t@media (min-width: 850px) {\n\t\t\tflex-basis: auto;\n\t\t\tmargin-left: 10px;\n\t\t}\n\t"]);return et=function(){return t},t}function nt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return nt=function(){return t},t}function at(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tflex-basis: 30%;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 20px;\n\t"]);return at=function(){return t},t}function rt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcolor: #c5c6c7;\n\t\tmargin: 20px 0px;\n\t\tfont-size: 1.2em;\n\t\tfont-weight: 700;\n\t\ttext-align: center;\n\t\tflex-basis: 100%;\n\t"]);return rt=function(){return t},t}function ot(){var t=Object(m.a)(["\n\t\tbackground-color: #1f2833;\n\t\tpadding: 10px;\n\t\tmargin: 0px 0px 10px 0px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\t"]);return ot=function(){return t},t}function it(){var t=Object(m.a)(["\n\t"]);return it=function(){return t},t}var ct={Wraper:g.a.div(it()),Recomendations:g.a.div(ot()),RecomendationsHeading:g.a.h2(rt()),RecomendationsRow:g.a.div(at()),Avatar:g.a.img(nt()),Username:g.a.span(et()),FollowButton:g.a.a(tt())},lt=function(t,e,n,a,r){var o=t.target.className;o=o.replace(/[^0-9]/g,""),"follow"===e?k.a.post("https://akademia108.pl/api/social-app/follows/follow",{leader_id:{leader_id:o}},n).then((function(t){Q("all",a[a.length-1].created_at,a,r,n)})).catch((function(t){console.error(t)})):k.a.post("https://akademia108.pl/api/social-app/follows/disfollow",{leader_id:{leader_id:o}},n).then((function(t){for(var e=Array.from(a),n=e.length;n--;)e[n].user.id===Number(o)&&e.splice(n,1);r(e)})).catch((function(t){console.error(t)}))},st=function(t){var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1];Object(a.useEffect)((function(){setTimeout((function(){k.a.post("https://akademia108.pl/api/social-app/follows/recommendations",{},t.axiosConfig).then((function(t){i(t.data)})).catch((function(t){console.error(t)}))}),425)}),[t.updateRecomendations]);var c=o.map((function(e){return r.a.createElement(ct.RecomendationsRow,{key:e.id},r.a.createElement(ct.Avatar,{src:e.avatar_url,alt:"avatar"}),r.a.createElement(ct.Username,null,e.username),r.a.createElement(ct.FollowButton,{className:e.id,onClick:function(e){lt(e,"follow",t.axiosConfig,t.posts,t.setPosts),t.updateRecomendations?t.makeUpdate(!1):t.makeUpdate(!0)}},"Follow"))}));return r.a.createElement(ct.Wraper,null,o.length>=1?r.a.createElement(ct.Recomendations,null,r.a.createElement(ct.RecomendationsHeading,null,"People You may know"),c):r.a.createElement(ct.Recomendations,{style:{display:"none"}},r.a.createElement(ct.RecomendationsHeading,null,"People You may know"),c))};function ut(){var t=Object(m.a)(["\n\t\theight: 100%;\n\t\twidth: auto;\n\t\tmargin: 0 auto;\n\t\tdisplay: block;\n\t\tscale: 0.5;\n\t"]);return ut=function(){return t},t}var pt={Img:g.a.img(ut())},dt=n(24),ft=n.n(dt),mt=function(t){var e=Object(a.useRef)(),n=Object(a.useState)(!1),o=Object(f.a)(n,2),i=o[0],c=o[1];if(t.posts[0]){var l=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(k.a.post("https://akademia108.pl/api/social-app/post/older-then",{date:"".concat(t.posts[t.posts.length-1].created_at)},t.axiosConfig).then((function(e){setTimeout((function(){t.setPosts(t.posts.concat(e.data)),c(!1)}),300)})).catch((function(t){console.error(t)})),l.unobserve(e.target))}))}),{rootMargin:"0px",threshold:.9});e.current&&(i||(l.observe(e.current),c(!0)))}return r.a.createElement("div",{ref:function(t){e.current=t},style:{height:"50px"},className:"empty"},r.a.createElement(pt.Img,{src:ft.a,alt:"loading..."}))},gt=n(33);function ht(){var t=Object(m.a)(["\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 15px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tmargin-left: 5px;\n\t"]);return ht=function(){return t},t}function bt(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcursor: pointer;\n\t\tcolor: #66fcf1;\n\t"]);return bt=function(){return t},t}function xt(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcolor: #c5c6c7;\n\t\tcursor: pointer;\n\t"]);return xt=function(){return t},t}var Et={Icon:Object(g.a)(I.a)(xt()),RedIcon:Object(g.a)(I.a)(bt()),Amount:g.a.span(ht())},vt=function(t){var e=function(e,n){var a=-1,r=-1;e.currentTarget.id&&("like"===n?k.a.post("https://akademia108.pl/api/social-app/post/like",{post_id:"".concat(e.currentTarget.id)},t.axiosConfig).then((function(e){t.posts.forEach((function(e,n){e.id===Number(t.id)&&(a=n)}));var n=Array.from(t.posts);n[a].likes.push(t.user),t.setPosts(n)})).catch((function(t){console.error(t)})):k.a.post("https://akademia108.pl/api/social-app/post/dislike",{post_id:"".concat(e.currentTarget.id)},t.axiosConfig).then((function(e){var n=Array.from(t.posts);n.forEach((function(e,n){e.id===Number(t.id)&&(a=n)})),n[a].likes.forEach((function(e,n){e.id===Number(t.id)&&(r=n)})),n[a].likes.splice(r,1),t.setPosts(n)})).catch((function(t){console.error(t)})))};return r.a.createElement("div",null,t.liked?r.a.createElement(Et.RedIcon,{id:t.id,icon:S.c,onClick:function(t){e(t)}}):t.guest?r.a.createElement(Et.Icon,{style:{cursor:"default"},icon:gt.a}):r.a.createElement(Et.Icon,{id:t.id,icon:gt.a,onClick:function(t){e(t,"like")}}),r.a.createElement(Et.Amount,null,t.amount))},wt=function(t,e,n,a){var r=-1,o=function(e,n){e.id===Number(t)&&(r=n)};k.a.post("https://akademia108.pl/api/social-app/post/delete",{post_id:"".concat(t)},a).then((function(t){e.forEach(o);var a=Array.from(e);a.splice(r,1),n(a)})).catch((function(t){console.error(t)}))};function jt(){var t=Object(m.a)(["\n\t\tcursor: pointer;\n\t\twidth: 50px;\n\t\theight: auto;\n\t"]);return jt=function(){return t},t}function Ot(){var t=Object(m.a)(["\n\t\twidth: 40px;\n\t\theight: auto;\n\t\tcursor: pointer;\n\t"]);return Ot=function(){return t},t}function yt(){var t=Object(m.a)(["\n\t\tcolor: #66fcf1;\n\t\tfont-size: 20px;\n\t\tflex-basis: 100%;\n\t\tpadding-bottom: 20px;\n\t"]);return yt=function(){return t},t}function kt(){var t=Object(m.a)(["\n\t\twidth: 80%;\n\t\theight: auto;\n\t\tposition: fixed;\n\t\tz-index: 500;\n\t\tdisplay: flex;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-evenly;\n\t\ttransform: translate(-50%, -50%);\n\t\tbackground-color: #0b0c10;\n\t\ttext-align: center;\n\t\tpadding: 20px;\n\t\tcolor: #c5c6c7;\n\n\t\t@media (min-width: 570px) {\n\t\t\twidth: 50%;\n\t\t}\n\n\t\t@media (min-width: 1000px) {\n\t\t\twidth: 30%;\n\t\t}\n\t"]);return kt=function(){return t},t}var St={Holder:g.a.div(kt()),Header:g.a.div(yt()),ImgNo:g.a.img(Ot()),ImgYes:g.a.img(jt())},It=n(51),Ct=n.n(It),Lt=n(52),Ut=n.n(Lt),_t=function(t){var e=Object(a.useState)(!1),n=Object(f.a)(e,2),o=n[0],i=n[1];return r.a.createElement(r.a.Fragment,null,o?null:r.a.createElement(St.Holder,null,r.a.createElement(St.Header,null,"Do You want to delete this post?"),r.a.createElement(St.ImgYes,{onClick:function(){wt(t.id,t.posts,t.setPosts,t.axiosConfig),i(!0),t.setEvent({})},src:Ct.a,alt:"yes"}),r.a.createElement(St.ImgNo,{onClick:function(){i(!0),t.setEvent({})},src:Ut.a,alt:"yes"})),";")},Pt=n(102);function zt(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tposition: absolute;\n\t\tcolor: #c5c6c7;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t\tcursor: pointer;\n\t"]);return zt=function(){return t},t}function At(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin: 0px 0px 0px 10px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\t"]);return At=function(){return t},t}function Tt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 10px;\n\t\tmargin-left: 10px;\n\t"]);return Tt=function(){return t},t}function Ft(){var t=Object(m.a)(["\n\t\tmargin: 10px 0px 10px 0px;\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 15px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t"]);return Ft=function(){return t},t}function Nt(){var t=Object(m.a)(["\n\t\tmargin-left: 10px;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t"]);return Nt=function(){return t},t}function qt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return qt=function(){return t},t}function Bt(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t"]);return Bt=function(){return t},t}function Ht(){var t=Object(m.a)(["\n\t\tcolor: black;\n\t\tbackground-color: #1f2833;\n\t\tborder: 0;\n\t\tmargin-bottom: 5px;\n\t\tpadding: 20px;\n\t\tposition: relative;\n\t"]);return Ht=function(){return t},t}function Rt(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n  "]);return Rt=function(){return t},t}function Dt(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\tdisplay: block;\n\t\tpadding: 0px 5px;\n\n\t\t@media (min-width: 850px) {\n\t\t\tpadding: 0px;\n\t\t\twidth: 75%;\n\t\t\tmargin: 0px auto;\n\t\t}\n\n\t\t@media (min-width: 1400px) {\n\t\t\twidth: 60%;\n\t\t}\n\t"]);return Dt=function(){return t},t}var Wt={Wraper:g.a.div(Dt()),Feed:g.a.div(Rt()),Holder:g.a.div(Ht()),UserHolder:g.a.div(Bt()),Avatar:g.a.img(qt()),Username:g.a.span(Nt()),Content:g.a.div(Ft()),Time:Object(g.a)(Pt.a)(Tt()),FollowButton:g.a.a(At()),Icon:Object(g.a)(I.a)(zt())},Yt=function(t){J.a.addLocale($.a);var e=JSON.parse(localStorage.user),n=e.jwt_token,o=Object(a.useState)([]),i=Object(f.a)(o,2),c=i[0],l=i[1],s=Object(a.useState)({}),u=Object(f.a)(s,2),p=u[0],d=u[1],m=Object(a.useState)(!1),g=Object(f.a)(m,2),h=g[0],b=g[1],x={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/post/latest",{},x).then((function(t){l(t.data)})).catch((function(t){console.error(t)}))}),[]),Object(a.useEffect)((function(){var t=setInterval((function(){c[0]&&Q("not-all",c[0].created_at,c,l,x)}),15e3);return function(){return clearInterval(t)}}));var E=c.map((function(t){var n,a=new Date(t.created_at);return n=t.likes.some((function(t){return t.id===e.id})),r.a.createElement(Wt.Holder,{key:t.id},r.a.createElement(Wt.UserHolder,null,r.a.createElement(Wt.Avatar,{src:t.user.avatar_url,alt:"avatar"}),e.id===t.user.id?r.a.createElement(Wt.Username,null,"You"):r.a.createElement(Wt.Username,null,t.user.username),e.id===t.user.id?r.a.createElement(Wt.Icon,{icon:S.d,id:t.id,onClick:function(t){d(t.currentTarget.id)}}):r.a.createElement(Wt.FollowButton,{className:t.user.id,onClick:function(t){lt(t,"unfollow",x,c,l),b(!h)}},"Unfollow"),r.a.createElement(Wt.Time,{date:a.getTime()})),r.a.createElement(Wt.Content,null,t.content),r.a.createElement(vt,{id:t.id,liked:n,user:e,axiosConfig:x,amount:t.likes.length,posts:c,setPosts:l}))}));return r.a.createElement(Wt.Wraper,null,p>0?r.a.createElement(_t,{id:p,setEvent:d,posts:c,setPosts:l,axiosConfig:x}):null,r.a.createElement(Wt.Feed,null,r.a.createElement(X,{axiosConfig:x,posts:c,setPosts:l}),r.a.createElement(st,{axiosConfig:x,makeUpdate:b,updateRecomendations:h,posts:c,setPosts:l}),E,r.a.createElement(mt,{axiosConfig:x,posts:c,setPosts:l})))},Jt=function(t){J.a.addLocale($.a);var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1],c={headers:{"Content-Type":"application/json",Accept:"application/json"}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/post/latest",c).then((function(t){i(t.data)})).catch((function(t){console.error(t)}))}),[]),Object(a.useEffect)((function(){var t=setInterval((function(){o[0]&&Q("not-all",o[0].created_at,o,i,c)}),15e3);return function(){return clearInterval(t)}}));var l=o.map((function(t){var e=new Date(t.created_at);return r.a.createElement(Wt.Holder,{key:t.id},r.a.createElement(Wt.UserHolder,null,r.a.createElement(Wt.Avatar,{src:t.user.avatar_url,alt:"avatar"}),r.a.createElement(Wt.Username,null,t.user.username),r.a.createElement(Wt.Time,{date:e.getTime()})),r.a.createElement(Wt.Content,null,t.content),r.a.createElement(vt,{id:t.id,axiosConfig:c,guest:!0,amount:t.likes.length,posts:o,setPosts:i}))}));return r.a.createElement(Wt.Wraper,null,r.a.createElement(Wt.Feed,{style:{marginTop:"10px"}},l,r.a.createElement(mt,{axiosConfig:c,guest:!0,posts:o,setPosts:i})))};function Kt(){var t=Object(m.a)(["\n\t\tdisplay: block;\n\t\tcolor: #c5c6c7;\n\t\ttext-align: center;\n\t"]);return Kt=function(){return t},t}function $t(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin-top: 15px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\t\tflex-basis: auto;\n\t\tmargin: 0;\n\t\tline-height: 50px;\n\t"]);return $t=function(){return t},t}function Zt(){var t=Object(m.a)(["\n\t\tline-height: 45px;\n\t\tmargin-left: 20px;\n\t\tmargin-right: auto;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t\ttext-align: center;\n\t"]);return Zt=function(){return t},t}function Mt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return Mt=function(){return t},t}function Vt(){var t=Object(m.a)(["\n\t\tmargin: 0px auto;\n\t\twidth: 60%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 5px;\n\t\tbackground-color: #1f2833;\n\t\tpadding: 10px 20px;\n\n\t\t@media (min-width: 1000px) {\n\t\t\twidth: 30%;\n\t\t}\n\t"]);return Vt=function(){return t},t}function Gt(){var t=Object(m.a)(["\n\t\tmargin-top: 10px;\n\t\twidth: 100%;\n\t"]);return Gt=function(){return t},t}function Qt(){var t=Object(m.a)(["\n\t\theight: 50px;\n\t\twidth: auto;\n\t\tmargin: 35px auto;\n\t\tdisplay: block;\n\t\tscale: 0.5;\n\t"]);return Qt=function(){return t},t}var Xt={Img:g.a.img(Qt()),Wraper:g.a.div(Gt()),Row:g.a.div(Vt()),Avatar:g.a.img(Mt()),Username:g.a.span(Zt()),FollowButton:g.a.a($t()),Span:g.a.span(Kt())},te=function(t){var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p=JSON.parse(localStorage.user).jwt_token,d={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(p)}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/follows/allfollows",{},d).then((function(t){i(t.data),setTimeout((function(){u(!0)}),300)})).catch((function(t){console.error(t)}))}),[]);var m=o.map((function(t){return r.a.createElement(Xt.Row,{key:t.id},r.a.createElement(Xt.Avatar,{src:t.avatar_url,alt:"avatar"}),r.a.createElement(Xt.Username,null,t.username),r.a.createElement(Xt.FollowButton,{className:t.id,onClick:function(t){!function(t){var e=t.target.className;e=e.replace(/[^0-9]/g,""),k.a.post("https://akademia108.pl/api/social-app/follows/disfollow",{leader_id:{leader_id:e}},d).then((function(t){for(var n=Array.from(o),a=n.length;a--;)n[a].id===Number(e)&&n.splice(a,1);i(n)})).catch((function(t){console.error(t)}))}(t)}},"Unfollow"))}));return s?o.length<1?r.a.createElement(Xt.Wraper,null,r.a.createElement(Xt.Span,null,"You don't follow anyone")):r.a.createElement(Xt.Wraper,null,m):r.a.createElement(Xt.Img,{src:ft.a,alt:"loading..."})};function ee(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\t@media (min-width: 850px) {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t}\n\t"]);return ee=function(){return t},t}var ne={App:g.a.div(ee())},ae=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).hidePopup=function(){t.setState({loaded:!1})},t.updateUser=function(e){clearTimeout(t.timerID),t.setState({userLoggedIn:e},(function(){t.timerPopup()}))},t.timerPopup=function(){t.state.userLoggedIn||(t.setState({loaded:!1}),t.timerID=setTimeout((function(){t.setState({loaded:!0})}),1e4))},t.currentUser=JSON.parse(localStorage.getItem("user")),t.state={userLoggedIn:!!t.currentUser,loaded:!1},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.timerPopup()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(ne.App,null,this.state.userLoggedIn?r.a.createElement(j,{updateUser:this.updateUser,logged:!0}):r.a.createElement(j,{updateUser:this.updateUser,hide:this.hidePopup,logged:!1}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/Social-app/"},this.state.userLoggedIn?r.a.createElement(Yt,null):r.a.createElement(Jt,null),this.state.loaded?this.state.userLoggedIn?r.a.createElement(d.a,{to:"/Social-app/"}):r.a.createElement(D,{popup:!0,iconDisplay:"block",hide:this.hidePopup,updateUser:this.updateUser}):null),r.a.createElement(d.b,{path:"/Social-app/login"},this.state.userLoggedIn?r.a.createElement(d.a,{to:"/Social-app/"}):r.a.createElement(W,{updateUser:this.updateUser})),r.a.createElement(d.b,{path:"/Social-app/signup",component:Y}),r.a.createElement(d.b,{path:"/Social-app/allFollows",component:te}),r.a.createElement(d.a,{to:"/Social-app/"}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.b18c691e.chunk.js.map