(this["webpackJsonpsocial-app"]=this["webpackJsonpsocial-app"]||[]).push([[0],{24:function(t,e,n){t.exports=n.p+"static/media/Loader.f73f97ff.gif"},44:function(t,e,n){},54:function(t,e,n){t.exports=n(93)},59:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(45),i=n.n(o),c=(n(59),n(46)),l=n(47),s=n(53),u=n(52),p=n(15),d=n(6),f=n(4),m=n(2),g=n(3);function h(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttext-transform: uppercase;\n\t\ttext-decoration: none;\n\t\tcursor: pointer;\n\t\theight: 100%;\n\t"]);return h=function(){return t},t}function x(){var t=Object(m.a)(["\n\t\tmargin: 0px;\n\t"]);return x=function(){return t},t}function b(){var t=Object(m.a)(["\n\t\tfont-size: 20px;\n\t\tfont-weight: bold;\n\t\tcolor: #0b0c10;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttext-decoration: none;\n\t\theight: 100%;\n\t"]);return b=function(){return t},t}function E(){var t=Object(m.a)(["\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\theight: 40px;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: space-around;\n\t\talign-items: center;\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t"]);return E=function(){return t},t}function v(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\theight: 40px;\n\t\tbackground-color: #45a29e;\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\twidth: 100%;\n\t\tz-index: 100;\n\t\tpadding: 0px;\n\n\t\t&.scrolled-down {\n\t\t\ttransform: translateY(-100%);\n\t\t\ttransition: all 0.3s ease-in-out;\n\t\t}\n\n\t\t&.scrolled-up {\n\t\t\ttransform: translateY(0);\n\t\t\ttransition: all 0.3s ease-in-out;\n\t\t}\n\n\t\t@media (min-width: 850px) {\n\t\t\tpadding: 0px 20px;\n\t\t}\n\t"]);return v=function(){return t},t}var w={Nav:g.a.nav(v()),List:g.a.ul(E()),Logo:Object(g.a)(p.b)(b()),Element:g.a.li(x()),Link:Object(g.a)(p.b)(h())},j=function(t){var e=Object(a.useState)("scrolled-up"),n=Object(f.a)(e,2),o=n[0],i=n[1],c=Object(a.useState)(0),l=Object(f.a)(c,2),s=l[0],u=l[1];return window.onscroll=function(){var t=window.pageYOffset;i(t<s?"scrolled-up":"scrolled-down"),u(t)},t.logged?r.a.createElement(w.Nav,{className:o},r.a.createElement(w.List,null,r.a.createElement(w.Logo,null,"Social-app"),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/"},"Feed")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app-ReactJS/allFollows"},"All follows")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"",onClick:function(){localStorage.user=null,t.updateUser(!1)}},"Log out")))):r.a.createElement(w.Nav,{className:o},r.a.createElement(w.List,null,r.a.createElement(w.Element,null,r.a.createElement(w.Logo,{to:"/Social-app-ReactJS/",onClick:function(){t.hide(),t.updateUser()}},"Social-app")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app-ReactJS/",onClick:function(){t.hide(),t.updateUser()}},"Feed")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app-ReactJS/login"},"Log in")),r.a.createElement(w.Element,null,r.a.createElement(w.Link,{to:"/Social-app-ReactJS/signup"},"Sign up"))))},O=n(18),y=n(5),k=n.n(y),S=n(9),I=n(14);function L(){var t=Object(m.a)(["\n    position: absolute;\n    font-size: 20px;\n    cursor: pointer;\n    top: 35px;\n    right: 10px;\n    color: #c5c6c7;\n    z-index: 100;\n  "]);return L=function(){return t},t}function C(){var t=Object(m.a)(["\n\t\tfont-size: 30px;\n\t\tposition: absolute;\n\t\tdisplay: ",";\n\t\tcolor: #66fcf1;\n\t\tright: 10px;\n\t\ttop: 10px;\n\t\tcursor: pointer;\n  "]);return C=function(){return t},t}function U(){var t=Object(m.a)(["\n\t\tcolor: #c5c6c7;\n\t"]);return U=function(){return t},t}function _(){var t=Object(m.a)(["\n\t\ttext-decoration: none;\n\t\tcolor: #66fcf1;\n\t"]);return _=function(){return t},t}function A(){var t=Object(m.a)(["\n\t\theight: 100%;\n\t\tmargin: 0px auto;\n\t\tfont-size: 15px;\n\t\tbackground-color: transparent;\n\t\twidth: 125px;\n\t\theight: 40px;\n\t\tcursor: pointer;\n\t\ttext-transform: uppercase;\n\t\tfont-weight: 400;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: transparent;\n\t\tborder: 1px solid #66fcf1;\n\t\toutline: 0;\n\n\t\t&:hover {\n\t\t\t-webkit-transition: all 0.15s ease-in-out;\n\t\t\ttransition: all 0.15s ease-in-out;\n\t\t\tbox-shadow: 0 0 10px 0 #66fcf1 inset, 0 0 10px 0px #66fcf1;\n\t\t\tborder: 1px solid #66fcf1;\n\t\t}\n\t"]);return A=function(){return t},t}function P(){var t=Object(m.a)(["\n\t\ttext-align: center;\n\t\tmargin-top: 30px;\n\t"]);return P=function(){return t},t}function z(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcolor: green;\n\t\tdisplay: block;\n\t\ttext-align: center;\n\t\tmargin: 15px 0px 15px 0px;\n\t"]);return z=function(){return t},t}function R(){var t=Object(m.a)(["\n\t\tfont-size: 12px;\n\t\tcolor: red;\n\t\tmargin-bottom: 10px;\n\t"]);return R=function(){return t},t}function T(){var t=Object(m.a)(["\n    position: absolute;\n\t\ttop: 27.5px;\n\t\tleft: 5px;\n    color: #c5c6c7;\n    padding: 0px 5px;\n\t\tline-height: 35px;\n\t\tpointer-events: none;\n\t"]);return T=function(){return t},t}function B(){var t=Object(m.a)(["\n    position: relative;\n    border: 0px;\n    padding: 0;\n    \n\t"]);return B=function(){return t},t}function F(){var t=Object(m.a)(["\n\t\tmargin: 0px auto 20px auto;\n\t\twidth: 80%;\n\t\ttext-align: left;\n\t"]);return F=function(){return t},t}function N(){var t=Object(m.a)(["\n    width: 80%;\n\t\theight: auto;\n\t\tposition: fixed;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tbackground-color: ",";\n\t\tdisplay: ",";\n\t\ttext-align: center;\n\t\tpadding-bottom: 20px;\n\n\t\t@media (min-width: 500px) {\n\t\t\twidth: 60%;\n\t\t}\n\n\t\t@media (min-width: 850px) {\n\t\t\twidth: 30%;\n\t\t}\n\t"]);return N=function(){return t},t}function q(){var t=Object(m.a)(["\n\t\tfont-size: 40px;\n\t\tmargin: 20px 0px 10px 0px;\n\t\tcolor: #66fcf1;\n\t"]);return q=function(){return t},t}var J={Heading:g.a.h2(q()),Holder:g.a.div(N(),(function(t){return t.color}),(function(t){return t.display})),Form_wrapper:g.a.div(F()),Input_wrapper:g.a.fieldset(B()),Label:g.a.div(T()),Errors:g.a.span(R()),Signed:g.a.span(z()),Button_holder:g.a.div(P()),Button:g.a.button(A()),Link:Object(g.a)(p.b)(_()),Span:g.a.span(U()),Icon:Object(g.a)(I.a)(C(),(function(t){return t.display})),EyeIcon:Object(g.a)(I.a)(L())},H=(n(44),function(t){var e=Object(O.a)(),n=e.register,o=e.handleSubmit,i=e.errors,c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p="transparent";t.popup&&(p="#0B0C10");var d=function(){u(!s)};return r.a.createElement(J.Holder,{color:p},r.a.createElement(J.Icon,{icon:S.d,onClick:t.hide,display:t.iconDisplay}),r.a.createElement(J.Heading,null,"Log in"),r.a.createElement(J.Form_wrapper,null,r.a.createElement("form",{className:"login-form",onSubmit:o((function(e){var n={username:e.username.trim(),password:e.password,ttl:3600};k.a.post("https://akademia108.pl/api/social-app/user/login",JSON.stringify(n),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),t.updateUser(!0)})).catch((function(t){console.error(t)}))}))},r.a.createElement(J.Input_wrapper,null,r.a.createElement("input",{name:"username",type:"text",placeholder:" ",ref:n({required:!0})}),r.a.createElement(J.Label,{htmlFor:"username"},"Username"),i.username&&"required"===i.username.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required")),r.a.createElement(J.Input_wrapper,null,s?r.a.createElement(J.EyeIcon,{onClick:function(){d()},icon:S.b}):r.a.createElement(J.EyeIcon,{onClick:function(){d()},icon:S.a}),r.a.createElement("input",{name:"password",type:s?"text":"password",placeholder:" ",ref:n({required:!0})}),r.a.createElement(J.Label,{htmlFor:"username"},"Password"),i.password&&"required"===i.password.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required")),r.a.createElement(J.Button_holder,null,r.a.createElement(J.Button,{type:"submit"},"Log in")))),r.a.createElement(J.Span,null,"Don't have an account? "),r.a.createElement(J.Link,{to:"/signup"},"Sign up"))}),D=function(t){return r.a.createElement(H,{popup:!1,iconDisplay:"none",updateUser:t.updateUser})},W=function(){var t=Object(O.a)(),e=t.register,n=t.handleSubmit,o=t.errors,i=t.getValues,c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p=Object(a.useState)(!1),d=Object(f.a)(p,2),m=d[0],g=d[1],h=Object(a.useState)(!1),x=Object(f.a)(h,2),b=x[0],E=x[1],v=Object(a.useState)(!1),w=Object(f.a)(v,2),j=w[0],y=w[1],I=Object(a.useState)(!1),L=Object(f.a)(I,2),C=L[0],U=L[1],_={"Content-Type":"application/json",Accept:"application/json"},A=function(){y(!j)},P=function(){U(!C)};return r.a.createElement(J.Holder,null,r.a.createElement(J.Heading,null,"Sign Up"),r.a.createElement(J.Form_wrapper,null,r.a.createElement("form",{onSubmit:n((function(t){u(!1),g(!1),E(!1);var e={username:t.username,email:t.email,password:t.password};k.a.post("http://akademia108.pl/api/social-app/user/signup",JSON.stringify(e),{headers:_}).then((function(t){!1===t.data.signedup?(t.data.message.username&&u(!0),t.data.message.email&&g(!0)):E(!0)})).catch((function(t){console.error(t)}))}))},r.a.createElement(J.Input_wrapper,null,r.a.createElement("input",{name:"username",type:"text",placeholder:" ",ref:e({required:!0,minLength:4,pattern:{value:/^[^\s]*$/}})}),r.a.createElement(J.Label,{htmlFor:"username"},"Username"),o.username&&"required"===o.username.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required"),o.username&&"minLength"===o.username.type&&r.a.createElement(J.Errors,null," \u26a0 User name is too short"),o.username&&"pattern"===o.username.type&&r.a.createElement(J.Errors,null," \u26a0 Do not use white spaces"),s?r.a.createElement(J.Errors,null," \u26a0 User name has already been taken"):null),r.a.createElement(J.Input_wrapper,null,r.a.createElement("input",{name:"email",type:"text",placeholder:" ",ref:e({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}})}),r.a.createElement(J.Label,{htmlFor:"email"},"E-mail adress"),o.email&&"required"===o.email.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required"),o.email&&"pattern"===o.email.type&&r.a.createElement(J.Errors,null," \u26a0 Email adress is invalid"),m?r.a.createElement(J.Errors,null," \u26a0 Email adress has already been taken"):null),r.a.createElement(J.Input_wrapper,null,j?r.a.createElement(J.EyeIcon,{onClick:function(){A()},icon:S.b}):r.a.createElement(J.EyeIcon,{onClick:function(){A()},icon:S.a}),r.a.createElement("input",{name:"password",type:j?"text":"password",placeholder:" ",ref:e({required:!0,minLength:6,pattern:{value:/^[0-zA-Z$&+,:;=?@#|'<>.^*()%!]*$/},validate:function(t){return!(!(t.includes("$")||t.includes("!")||t.includes("#")||t.includes("@")||t.includes("%"))||!/\d/.test(t))}})}),r.a.createElement(J.Label,{htmlFor:"password"},"Password"),o.password&&"required"===o.password.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required"),o.password&&"minLength"===o.password.type&&r.a.createElement(J.Errors,null," \u26a0 Password is too short"),o.password&&"validate"===o.password.type&&r.a.createElement(J.Errors,null," \u26a0 Password must contain one of charts: ! # @ $ %"),o.password&&"pattern"===o.password.type&&r.a.createElement(J.Errors,null," \u26a0 Do not use white spaces")),r.a.createElement(J.Input_wrapper,null,C?r.a.createElement(J.EyeIcon,{onClick:function(){P()},icon:S.b}):r.a.createElement(J.EyeIcon,{onClick:function(){P()},icon:S.a}),r.a.createElement("input",{name:"confirmPassword",type:C?"text":"password",placeholder:" ",ref:e({required:!0,validate:function(t){return t===i("password")}})}),r.a.createElement(J.Label,{htmlFor:"confirmPassword"},"Confirm password"),o.confirmPassword&&"validate"===o.confirmPassword.type&&r.a.createElement(J.Errors,null," \u26a0 Password is not the same"),o.confirmPassword&&"required"===o.confirmPassword.type&&r.a.createElement(J.Errors,null," \u26a0 This field is required")),b?r.a.createElement(J.Signed,null,"You signed up successfully!"):null,r.a.createElement(J.Button_holder,null,b?r.a.createElement(J.Button,{type:"submit",style:{marginTop:"0px"}},"Sign up"):r.a.createElement(J.Button,{type:"submit"},"Sign up")))))},Y=n(99),K=n(25),$=n.n(K);function Z(){var t=Object(m.a)(["\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\theight: 100px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tfont-size: 15px;\n\t\tmargin: 20px 0px 10px 0px;\n\t\tbackground-color: #1f2833;\n\t\tborder: 1px solid #1f2833;\n\t\toutline: 0;\n\t\tpadding: 20px;\n\t\tcolor: #c5c6c7;\n\t"]);return Z=function(){return t},t}function M(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t"]);return M=function(){return t},t}function V(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tbackground-color: transparent;\n\t\twidth: 125px;\n\t\theight: 40px;\n\t\tcursor: pointer;\n\t\ttext-transform: uppercase;\n\t\tfont-weight: 400;\n\t\tmargin: 0px 0px 20px auto;\n\t\tcolor: #66fcf1;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbackground-color: transparent;\n\t\tborder: 1px solid #66fcf1;\n\t\toutline: 0;\n\n\t\t&:hover {\n\t\t\t-webkit-transition: all 0.15s ease-in-out;\n\t\t\ttransition: all 0.15s ease-in-out;\n\t\t\tbox-shadow: 0 0 10px 0 #66fcf1 inset, 0 0 10px 0px #66fcf1;\n\t\t\tborder: 1px solid #66fcf1;\n\t\t}\n\t"]);return V=function(){return t},t}var G={AddButton:g.a.button(V()),Form:g.a.form(M()),Textarea:g.a.textarea(Z())},Q=function(t,e,n,a,r){k.a.post("https://akademia108.pl/api/social-app/post/newer-then",{date:"".concat(e)},r).then((function(e){if(e.data.length>0)if("all"===t){var r=e.data;a(r)}else{var o=e.data;a(o.concat(n))}})).catch((function(t){console.error(t)}))},X=function(t){var e=Object(O.a)(),n=e.register,a=e.handleSubmit,o=e.errors;return r.a.createElement(G.Form,{onSubmit:a((function(e,n){k.a.post("https://akademia108.pl/api/social-app/post/add",{content:"".concat(e.post)},t.axiosConfig).then((function(e){Q("one",t.posts[0].created_at,t.posts,t.setPosts,t.axiosConfig),n.target.reset()})).catch((function(t){console.error(t)}))}))},r.a.createElement(G.Textarea,{name:"post",placeholder:"Add post",ref:n({required:!0})}),o.post&&"required"===o.post.type&&r.a.createElement(J.Errors,{style:{color:"#b71c1c"}}," \u26a0 Post can not be empty"),r.a.createElement(G.AddButton,null,"Add Post"))};function tt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tflex-basis: 100%;\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin-top: 15px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\n\t\t@media (min-width: 1400px) {\n\t\t\tflex-basis: auto;\n\t\t\tmargin: 0;\n\t\t\tline-height: 50px;\n\t\t}\n\t"]);return tt=function(){return t},t}function et(){var t=Object(m.a)(["\n\t\tline-height: 45px;\n\t\tmargin: 0;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t\ttext-align: center;\n\t\tflex-basis: 100%;\n\t\t@media (min-width: 850px) {\n\t\t\tflex-basis: auto;\n\t\t\tmargin-left: 10px;\n\t\t}\n\n\t\t@media (min-width: 1400px) {\n\t\t\tmargin-right: auto;\n\t\t}\n\t"]);return et=function(){return t},t}function nt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return nt=function(){return t},t}function at(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\tflex-basis: 30%;\n\t\tjustify-content: center;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 20px;\n\n\t\t@media (min-width: 1400px) {\n\t\t\tjustify-content: space-between;\n\t\t\tpadding: 0 20px;\n\t\t\tmargin-top: 5px;\n\t\t\tmargin-bottom: 0px;\n\t\t}\n\t"]);return at=function(){return t},t}function rt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcolor: #c5c6c7;\n\t\tmargin: 20px 0px;\n\t\tfont-size: 1.2em;\n\t\tfont-weight: 700;\n\t\ttext-align: center;\n\t\tflex-basis: 100%;\n\t"]);return rt=function(){return t},t}function ot(){var t=Object(m.a)(["\n\t\tbackground-color: #1f2833;\n\t\tpadding: 10px;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\n\t\t@media (min-width: 1400px) {\n\t\t\tpadding-bottom: 35px;\n\t\t\tflex-direction: column;\n\t\t\tmargin: auto 5px;\n\t\t}\n\t"]);return ot=function(){return t},t}function it(){var t=Object(m.a)(["\n\t\t@media (min-width: 1400px) {\n\t\t\tposition: sticky;\n\t\t\ttop: 50%;\n\t\t\t-ms-transform: translateY(-50%);\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t"]);return it=function(){return t},t}var ct={Wraper:g.a.div(it()),Recomendations:g.a.div(ot()),RecomendationsHeading:g.a.h2(rt()),RecomendationsRow:g.a.div(at()),Avatar:g.a.img(nt()),Username:g.a.span(et()),FollowButton:g.a.a(tt())},lt=function(t,e,n,a,r){var o=t.target.className;o=o.replace(/[^0-9]/g,""),"follow"===e?k.a.post("https://akademia108.pl/api/social-app/follows/follow",{leader_id:{leader_id:o}},n).then((function(t){Q("all",a[a.length-1].created_at,a,r,n)})).catch((function(t){console.error(t)})):k.a.post("https://akademia108.pl/api/social-app/follows/disfollow",{leader_id:{leader_id:o}},n).then((function(t){for(var e=Array.from(a),n=e.length;n--;)e[n].user.id===Number(o)&&e.splice(n,1);r(e)})).catch((function(t){console.error(t)}))},st=function(t){var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1];Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/follows/recommendations",{},t.axiosConfig).then((function(t){i(t.data)})).catch((function(t){console.error(t)}))}),[t.posts]);var c=o.map((function(e){return r.a.createElement(ct.RecomendationsRow,{key:e.id},r.a.createElement(ct.Avatar,{src:e.avatar_url,alt:"avatar"}),r.a.createElement(ct.Username,null,e.username),r.a.createElement(ct.FollowButton,{className:e.id,onClick:function(e){lt(e,"follow",t.axiosConfig,t.posts,t.setPosts)}},"Follow"))}));return r.a.createElement(ct.Wraper,null,o.length>=1?r.a.createElement(ct.Recomendations,null,r.a.createElement(ct.RecomendationsHeading,null,"People You may know"),c):r.a.createElement(ct.Recomendations,{style:{display:"none"}},r.a.createElement(ct.RecomendationsHeading,null,"People You may know"),c))},ut=n(24),pt=n.n(ut);function dt(){var t=Object(m.a)(["\n\t\theight: 100%;\n\t\twidth: auto;\n\t\tmargin: 0 auto;\n\t\tdisplay: block;\n\t\tscale: 0.5;\n\t"]);return dt=function(){return t},t}var ft={Img:g.a.img(dt())},mt=function(t){var e=Object(a.useRef)(),n=Object(a.useState)(!1),o=Object(f.a)(n,2),i=o[0],c=o[1];if(t.posts[0]){var l=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(k.a.post("https://akademia108.pl/api/social-app/post/older-then",{date:"".concat(t.posts[t.posts.length-1].created_at)},t.axiosConfig).then((function(e){setTimeout((function(){t.setPosts(t.posts.concat(e.data)),c(!1)}),300)})).catch((function(t){console.error(t)})),l.unobserve(e.target))}))}),{rootMargin:"0px",threshold:.9});e.current&&(i||(l.observe(e.current),c(!0)))}return r.a.createElement("div",{ref:function(t){e.current=t},style:{height:"50px"},className:"empty"},r.a.createElement(ft.Img,{src:pt.a,alt:"loading..."}))},gt=n(33);function ht(){var t=Object(m.a)(["\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 15px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tmargin-left: 5px;\n\t"]);return ht=function(){return t},t}function xt(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcursor: pointer;\n\t\tcolor: #66fcf1;\n\t"]);return xt=function(){return t},t}function bt(){var t=Object(m.a)(["\n\t\tfont-size: 18px;\n\t\tcolor: #c5c6c7;\n\t\tcursor: pointer;\n\t"]);return bt=function(){return t},t}var Et={Icon:Object(g.a)(I.a)(bt()),RedIcon:Object(g.a)(I.a)(xt()),Amount:g.a.span(ht())},vt=function(t){var e=function(e,n){var a=-1,r=-1;"like"===n?k.a.post("https://akademia108.pl/api/social-app/post/like",{post_id:"".concat(e.currentTarget.id)},t.axiosConfig).then((function(e){t.posts.forEach((function(e,n){e.id===Number(t.id)&&(a=n)}));var n=Array.from(t.posts);n[a].likes.push(t.user),t.setPosts(n)})).catch((function(t){console.error(t)})):k.a.post("https://akademia108.pl/api/social-app/post/dislike",{post_id:"".concat(e.currentTarget.id)},t.axiosConfig).then((function(e){var n=Array.from(t.posts);n.forEach((function(e,n){e.id===Number(t.id)&&(a=n)})),n[a].likes.forEach((function(e,n){e.id===Number(t.id)&&(r=n)})),n[a].likes.splice(r,1),t.setPosts(n)})).catch((function(t){console.error(t)}))};return r.a.createElement("div",null,t.liked?r.a.createElement(Et.RedIcon,{id:t.id,icon:S.c,onClick:function(t){e(t)}}):t.guest?r.a.createElement(Et.Icon,{style:{cursor:"default"},icon:gt.a}):r.a.createElement(Et.Icon,{id:t.id,icon:gt.a,onClick:function(t){e(t,"like")}}),r.a.createElement(Et.Amount,null,t.amount))},wt=function(t,e,n,a){var r=t.currentTarget.id,o=-1,i=function(t,e){t.id===Number(r)&&(o=e)};k.a.post("https://akademia108.pl/api/social-app/post/delete",{post_id:"".concat(r)},a).then((function(t){e.forEach(i);var a=Array.from(e);a.splice(o,1),n(a)})).catch((function(t){console.error(t)}))},jt=n(100);function Ot(){var t=Object(m.a)(["\n\t\tfont-size: 15px;\n\t\tposition: absolute;\n\t\tcolor: #c5c6c7;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t\tcursor: pointer;\n\t"]);return Ot=function(){return t},t}function yt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin: 0px 0px 0px 10px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\t"]);return yt=function(){return t},t}function kt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 10px;\n\t\tmargin-left: 10px;\n\t"]);return kt=function(){return t},t}function St(){var t=Object(m.a)(["\n\t\tmargin: 10px 0px 10px 0px;\n\t\tcolor: #c5c6c7;\n\t\tfont-size: 15px;\n\t\tfont-family: 'Kite One', sans-serif;\n\t"]);return St=function(){return t},t}function It(){var t=Object(m.a)(["\n\t\tmargin-left: 10px;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t"]);return It=function(){return t},t}function Lt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return Lt=function(){return t},t}function Ct(){var t=Object(m.a)(["\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t"]);return Ct=function(){return t},t}function Ut(){var t=Object(m.a)(["\n\t\tcolor: black;\n\t\tbackground-color: #1f2833;\n\t\tborder: 0;\n\t\tmargin-bottom: 5px;\n\t\tpadding: 20px;\n\t\tposition: relative;\n\t"]);return Ut=function(){return t},t}function _t(){var t=Object(m.a)(["\n\t\twidth: 25%;\n\t"]);return _t=function(){return t},t}function At(){var t=Object(m.a)(["\n\t\tmargin-top: 10px;\n\t\twidth: 100%;\n\t\torder: 1;\n\t\t@media (min-width: 1400px) {\n\t\t\twidth: 25%;\n\t\t\tposition: static;\n\t\t}\n\t"]);return At=function(){return t},t}function Pt(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\torder: 2;\n\t\tposition: relative;\n\t\t@media (min-width: 1400px) {\n\t\t\twidth: 75%;\n\t\t\torder: 0;\n\t\t}\n\t"]);return Pt=function(){return t},t}function zt(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\tdisplay: block;\n\t\tpadding: 0px 5px;\n\n\t\t@media (min-width: 850px) {\n\t\t\tpadding: 0px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\twidth: 75%;\n\t\t\tmargin: 0px auto;\n\t\t}\n\n\t\t@media (min-width: 1400px) {\n\t\t\tflex-direction: row;\n\t\t\tmargin-right: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t"]);return zt=function(){return t},t}var Rt={Wraper:g.a.div(zt()),Feed:g.a.div(Pt()),RightBar:g.a.div(At()),LeftBar:g.a.div(_t()),Holder:g.a.div(Ut()),UserHolder:g.a.div(Ct()),Avatar:g.a.img(Lt()),Username:g.a.span(It()),Content:g.a.div(St()),Time:Object(g.a)(jt.a)(kt()),FollowButton:g.a.a(yt()),Icon:Object(g.a)(I.a)(Ot())},Tt=function(t){Y.a.addLocale($.a);var e=JSON.parse(localStorage.user),n=e.jwt_token,o=Object(a.useState)([]),i=Object(f.a)(o,2),c=i[0],l=i[1],s={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/post/latest",{},s).then((function(t){l(t.data)})).catch((function(t){console.error(t)}))}),[]),Object(a.useEffect)((function(){var t=setInterval((function(){c[0]&&Q("not-all",c[0].created_at,c,l,s)}),15e3);return function(){return clearInterval(t)}}));var u=c.map((function(t){var n,a=new Date(t.created_at);return n=t.likes.some((function(t){return t.id===e.id})),r.a.createElement(Rt.Holder,{key:t.id},r.a.createElement(Rt.UserHolder,null,r.a.createElement(Rt.Avatar,{src:t.user.avatar_url,alt:"avatar"}),e.id===t.user.id?r.a.createElement(Rt.Username,null,"You"):r.a.createElement(Rt.Username,null,t.user.username),e.id===t.user.id?r.a.createElement(Rt.Icon,{icon:S.d,id:t.id,onClick:function(t){wt(t,c,l,s)}}):r.a.createElement(Rt.FollowButton,{className:t.user.id,onClick:function(t){lt(t,"unfollow",s,c,l)}},"Unfollow"),r.a.createElement(Rt.Time,{date:a.getTime()})),r.a.createElement(Rt.Content,null,t.content),r.a.createElement(vt,{id:t.id,liked:n,user:e,axiosConfig:s,amount:t.likes.length,posts:c,setPosts:l}))}));return r.a.createElement(Rt.Wraper,null,r.a.createElement(Rt.LeftBar,null),r.a.createElement(Rt.RightBar,null,r.a.createElement(st,{axiosConfig:s,posts:c,setPosts:l})),r.a.createElement(Rt.Feed,null,r.a.createElement(X,{axiosConfig:s,posts:c,setPosts:l}),u,r.a.createElement(mt,{axiosConfig:s,posts:c,setPosts:l})))},Bt=function(t){Y.a.addLocale($.a);var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1],c={headers:{"Content-Type":"application/json",Accept:"application/json"}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/post/latest",c).then((function(t){i(t.data)})).catch((function(t){console.error(t)}))}),[]),Object(a.useEffect)((function(){var t=setInterval((function(){o[0]&&Q("not-all",o[0].created_at,o,i,c)}),15e3);return function(){return clearInterval(t)}}));var l=o.map((function(t){var e=new Date(t.created_at);return r.a.createElement(Rt.Holder,{key:t.id},r.a.createElement(Rt.UserHolder,null,r.a.createElement(Rt.Avatar,{src:t.user.avatar_url,alt:"avatar"}),r.a.createElement(Rt.Username,null,t.user.username),r.a.createElement(Rt.Time,{date:e.getTime()})),r.a.createElement(Rt.Content,null,t.content),r.a.createElement(vt,{id:t.id,axiosConfig:c,guest:!0,amount:t.likes.length,posts:o,setPosts:i}))}));return r.a.createElement(Rt.Wraper,null,r.a.createElement(Rt.LeftBar,null),r.a.createElement(Rt.Feed,{style:{marginTop:"10px"}},l,r.a.createElement(mt,{axiosConfig:c,guest:!0,posts:o,setPosts:i})),r.a.createElement(Rt.RightBar,{style:{marginTop:"0px"}}))};function Ft(){var t=Object(m.a)(["\n\t\tdisplay: block;\n\t\tcolor: #c5c6c7;\n\t\ttext-align: center;\n\t"]);return Ft=function(){return t},t}function Nt(){var t=Object(m.a)(["\n\t\tfont-family: 'Kite One', sans-serif;\n\t\ttext-align: center;\n\t\tcursor: pointer;\n\t\tcolor: #c5c6c7;\n\t\tmargin-top: 15px;\n\t\tfont-size: 15px;\n\t\tbackground: transparent;\n\t\tflex-basis: auto;\n\t\tmargin: 0;\n\t\tline-height: 50px;\n\t"]);return Nt=function(){return t},t}function qt(){var t=Object(m.a)(["\n\t\tline-height: 45px;\n\t\tmargin-left: 20px;\n\t\tmargin-right: auto;\n\t\tcolor: #66fcf1;\n\t\tfont-weight: 500;\n\t\ttext-align: center;\n\t"]);return qt=function(){return t},t}function Jt(){var t=Object(m.a)(["\n\t\twidth: 50px;\n\t\tborder-radius: 50%;\n\t"]);return Jt=function(){return t},t}function Ht(){var t=Object(m.a)(["\n\t\tmargin: 0px auto;\n\t\twidth: 60%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 5px;\n\t\tbackground-color: #1f2833;\n\t\tpadding: 10px 20px;\n\n\t\t@media (min-width: 1000px) {\n\t\t\twidth: 30%;\n\t\t}\n\t"]);return Ht=function(){return t},t}function Dt(){var t=Object(m.a)(["\n\t\tmargin-top: 10px;\n\t\twidth: 100%;\n\t"]);return Dt=function(){return t},t}function Wt(){var t=Object(m.a)(["\n\t\theight: 50px;\n\t\twidth: auto;\n\t\tmargin: 35px auto;\n\t\tdisplay: block;\n\t\tscale: 0.5;\n\t"]);return Wt=function(){return t},t}var Yt={Img:g.a.img(Wt()),Wraper:g.a.div(Dt()),Row:g.a.div(Ht()),Avatar:g.a.img(Jt()),Username:g.a.span(qt()),FollowButton:g.a.a(Nt()),Span:g.a.span(Ft())},Kt=function(t){var e=Object(a.useState)([]),n=Object(f.a)(e,2),o=n[0],i=n[1],c=Object(a.useState)(!1),l=Object(f.a)(c,2),s=l[0],u=l[1],p=JSON.parse(localStorage.user).jwt_token,d={headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(p)}};Object(a.useEffect)((function(){k.a.post("https://akademia108.pl/api/social-app/follows/allfollows",{},d).then((function(t){i(t.data),setTimeout((function(){u(!0)}),300)})).catch((function(t){console.error(t)}))}),[]);var m=o.map((function(t){return r.a.createElement(Yt.Row,{key:t.id},r.a.createElement(Yt.Avatar,{src:t.avatar_url,alt:"avatar"}),r.a.createElement(Yt.Username,null,t.username),r.a.createElement(Yt.FollowButton,{className:t.id,onClick:function(t){!function(t){var e=t.target.className;e=e.replace(/[^0-9]/g,""),k.a.post("https://akademia108.pl/api/social-app/follows/disfollow",{leader_id:{leader_id:e}},d).then((function(t){for(var n=Array.from(o),a=n.length;a--;)n[a].id===Number(e)&&n.splice(a,1);i(n)})).catch((function(t){console.error(t)}))}(t)}},"Unfollow"))}));return s?o.length<1?r.a.createElement(Yt.Wraper,null,r.a.createElement(Yt.Span,null,"You don't follow anyone")):r.a.createElement(Yt.Wraper,null,m):r.a.createElement(Yt.Img,{src:pt.a,alt:"loading..."})};function $t(){var t=Object(m.a)(["\n\t\tbox-sizing: border-box;\n\t\t@media (min-width: 850px) {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t}\n\t"]);return $t=function(){return t},t}var Zt={App:g.a.div($t())},Mt=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).hidePopup=function(){t.setState({loaded:!1})},t.updateUser=function(e){clearTimeout(t.timerID),t.setState({userLoggedIn:e},(function(){t.timerPopup()}))},t.timerPopup=function(){t.state.userLoggedIn||(t.setState({loaded:!1}),t.timerID=setTimeout((function(){t.setState({loaded:!0})}),1e4))},t.currentUser=JSON.parse(localStorage.getItem("user")),t.state={userLoggedIn:!!t.currentUser,loaded:!1},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.timerPopup()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timerID)}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(Zt.App,null,this.state.userLoggedIn?r.a.createElement(j,{updateUser:this.updateUser,logged:!0}):r.a.createElement(j,{updateUser:this.updateUser,hide:this.hidePopup,logged:!1}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/Social-app-ReactJS/"},this.state.userLoggedIn?r.a.createElement(Tt,null):r.a.createElement(Bt,null),this.state.loaded?this.state.userLoggedIn?r.a.createElement(d.a,{to:"/"}):r.a.createElement(H,{popup:!0,iconDisplay:"block",hide:this.hidePopup,updateUser:this.updateUser}):null),r.a.createElement(d.b,{path:"/Social-app-ReactJS/login"},this.state.userLoggedIn?r.a.createElement(d.a,{to:"/"}):r.a.createElement(D,{updateUser:this.updateUser})),r.a.createElement(d.b,{path:"/Social-app-ReactJS/signup",component:W}),r.a.createElement(d.b,{path:"/Social-app-ReactJS/allFollows",component:Kt}),r.a.createElement(d.a,{to:"/Social-app-ReactJS/"}))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.db344c74.chunk.js.map